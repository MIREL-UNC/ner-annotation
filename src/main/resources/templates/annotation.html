<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Annotation</title>

  <div th:include="base :: head"></div>
  <script th:src="@{/js/annotation.js}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.min.js"></script>

</head>
<body>
<div th:include="base :: nav"></div>
<div class="container">

  <div class="page-header">
    <h1>Annotation
      <small th:text="${taid}"></small>
    </h1>
  </div>

  <div id="tagdescriptions">
    Labels:
    <span th:each="label : ${labels.labels}" th:class="${label.value}" th:text="${label.key}"></span>

  </div>

  <div class="form-group">
    <a id="savebutton" class="btn btn-default" role="button"><span class="glyphicon glyphicon-floppy-disk"
                                                                   aria-hidden="true"></span> Save</a>
    <a id="removebutton" class="btn btn-default" role="button"><span class="glyphicon glyphicon-remove"
                                                                     aria-hidden="true"></span> Remove All
      Labels</a>
  </div>

  <div class="panel panel-default">
    <div class="panel-body">
      <div th:utext="${htmlstring}" id="text"/>
    </div>
  </div>


  <div class="form-group">
    <div class="btn-group" role="group" aria-label="Next and previous">
      <a th:if="${previd} != -1" th:href="@{/annotation(taid=${previd})}" href="#"
         class="btn btn-default saveclass" role="button"><span class="glyphicon glyphicon-menu-left"
                                                               aria-hidden="true"></span> Previous</a>
      <a th:if="${nextid} != -1" th:href="@{/annotation(taid=${nextid})}" href="#"
         class="btn btn-default saveclass" role="button">Next <span class="glyphicon glyphicon-menu-right"
                                                                    aria-hidden="true"></span></a>
    </div>
  </div>

</div>
</body>

<script th:inline="javascript">
/*<![CDATA[*/
    var labels = /*[[${labels}]]*/ [];
    var secondaryLabelNames = /*[[${secondaryLabels}]]*/ [];
    var labelPositions = /*[[${labelPositions}]]*/ [];
    var primaryLabelName = /*[[${primaryLabelName}]]*/ [];
/*]]>*/

</script>

<template id="buttons">
  <div class="container-fluid">
    <div class="form-horizontal">
      <div class="form-group">
        <label class="col-sm-4 control-label" for="primarylabel"
               th:text="${primaryLabelName}"></label>
        <div class="col-sm-8">
          <input type="text" id="primarylabel" class="typeahead-primary form-control"
                 placeholder="Select a class" data-provide="typeahead" autocomplete="off"/>
        </div>
      </div>
      <div th:each="label,labelIndex : ${secondaryLabels}" class="form-group">
        <label class="col-sm-4 control-label"
               th:text="${label}"></label>
        <div class="col-sm-8">
          <input type="text" th:id="'labelInput-' + ${labelIndex.index}" th:class="'form-control typeahead-' + ${labelIndex.index}"
                 placeholder="Select a class" autocomplete="off"/>
        </div>
      </div>
      <div class="form-group">
        <button type="button" id="addClass" class="btn btn-default" value="add">Add Class</button>
        <button type="button" id="O" class="btn btn-default" value="O">No label</button>
      </div>
    </div>

  </div>
</template>

</html>
